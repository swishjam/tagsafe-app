<%= turbo_stream_from "#{domain.id}_domain_tags" %>

<%= turbo_frame_tag "#{domain.id}_domain_tags", class: 'tags row' do %>
  <% if tags.any? %>
    <div class='col-12'>
      <div class='tagsafe-container'>
        <%= turbo_frame_tag "#{domain.id}_domain_tags_chart", src: domain_tags_chart_path(current_domain.id, tag_ids: tags.is_third_party_tag.collect(&:id)) do %>
          Loading chart....
        <% end %>
      </div>
    </div>
    <% tags.each do |tag| %>
      <%= render 'server_loadable_partials/tags/tag', tag: tag %>
    <% end %>
    <div class="pagination-container text-center">
      <%= paginate tags %>
    </div>
  <% else %>
    <%= turbo_frame_tag 'no_tags_message' do %>
      No tags...
    <% end %>
  <% end %>
<% end %>