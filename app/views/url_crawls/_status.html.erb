<%= turbo_stream_from "#{url_crawl.uid}_url_crawl" %>

<%= turbo_frame_tag "#{url_crawl.uid}_url_crawl" do %>
  <% if url_crawl.pending? %>
    <h2>Currently syncing third party tags from <%= url_crawl.page_url.friendly_url %>...</h2> 
    <!-- <#%= display_loading_spinner type: 'grow' %> !-->
    <div style='max-width: 200px; width: 20%; margin: auto;'>
      <%= render 'partials/svgs/scanning_animation' %>
    </div>
  <% elsif url_crawl.failed? %>
    <h3>Unable to sync third party tags from <%= url_crawl.page_url.friendly_url %>: <%= url_crawl.error_message %></h3>
    <%= form_with url: url_crawls_path, method: :POST do |f| %>
      <%= f.submit 'Try Again', class: 'tagsafe-btn' %>
    <% end %>
  <% elsif url_crawl.successful? %>
    <h3>Third party tag sync complete. Found <%= url_crawl.found_tags.count %> new tags.</h3>
  <% end %>
<% end %>
