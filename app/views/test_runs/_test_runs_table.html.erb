<%= turbo_frame_tag turbo_frame_tag_name do %>
  <% if test_runs.none? %>
    <div class='text-center p-5'>
      <%= (local_assigns[:empty_message_html] || "<h4>No tests configured.</h4>").html_safe %>
    </div>
  <% else %>
    <div class='tagsafe-container p-0'>
      <div class='test-runs-table'>
        <div class='tagsafe-table'>
          <div class='tagsafe-table-row header'>
            <% columns = ['Date', 'Test', 'Description', 'Type of Test', 'Results'] - (local_assigns[:columns_to_exclude] || []) %>
            <% columns.each do |column| %>
              <div class='tagsafe-table-cell'><%= column %></div>
            <% end %>
          </div>
          <div class='tagsafe-table-body'>
            <% test_runs.each do |test_run| %>
              <%= render 'test_run_row', 
                test_run: test_run,
                columns_to_exclude: local_assigns[:columns_to_exclude] || [],
                for_audit: local_assigns[:for_audit]
              %>
            <% end %>
          </div>
        </div>
      </div>
      <%= paginate test_runs %>
    </div>
  <% end %>
<% end %>