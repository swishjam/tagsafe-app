<%= render_as_modal title: "Confirm changes to your #{feature_title}", hide_close_btn: true do %>
  <div class='tagsafe-modal-body'>
    <h3>This change would result in additional costs based on your current subscription plan.</h3>
    <div class='container-fluid'>
      <div class='row'>
        <div class='col-4 offset-4'>
          <div class='overage-description-div'>
            <h5 class='overage-description-title'>Current subscription plan</h5>
            <h5 class='overage-description-amount'><%= number_with_delimiter(included_in_plan) %></h5>
            <h6 class='overage-description-sub-title'><%= configuration_name %>s included per month.</h6>
          </div>
        </div>
      </div>
      <div class='row'>
        <div class='col-4 offset-2'>
          <div class='overage-description-div'>
            <h5 class='overage-description-title'>Impact to this month</h5>
            <h5 class='overage-description-amount'>~<%= number_with_delimiter(overage_estimator.potential_unit_overage_this_month_compared_to_current_config) %></h5>
            <h6 class='overage-description-sub-title'>additional <%= configuration_name %>s.</h5>
            <h5 class='overage-description-amount'>~<%= number_to_currency(overage_estimator.potential_dollar_overage_this_month_compared_to_current_config) %></h5>
            <h6 class='overage-description-sub-title'>additional monthly costs.</h5>
          </div>
        </div>
        <div class='col-4'>
          <div class='overage-description-div'>
            <h5 class='overage-description-title'>Impact to future months</h5>
            <h5 class='overage-description-amount'>~<%= number_with_delimiter(overage_estimator.potential_unit_overage_next_month_compared_to_current_config) %></h5>
            <h6 class='overage-description-sub-title'>additional <%= configuration_name %>s.</h5>
            <h5 class='overage-description-amount'>~<%= number_to_currency(overage_estimator.potential_dollar_overage_next_month_compared_to_current_config) %></h5>
            <h6 class='overage-description-sub-title'>additional monthly costs.</h5>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class='tagsafe-modal-divider'></div>
  <div class='tagsafe-modal-footer text-end'>
    <%= link_to 'Cancel', edit_tag_path(tag), target: '_top', class: 'floating-btn white-bg d-inline-block' %>
    <%= form_with url: update_url, class: 'd-inline-block', data: { controller: 'loading_form' } do |f| %>
      <%= f.hidden_field :price_increase_confirmed, value: true %>
      <%= f.hidden_field :release_check_minute_interval, value: tag.tag_preferences.release_check_minute_interval %>
      <%= f.hidden_field :scheduled_audit_minute_interval, value: tag.tag_preferences.scheduled_audit_minute_interval %>
      <!-- CONFIRM THIS VALUE OVERRIDES ABOVE VALUES !-->
      <%= f.hidden_field attr_being_updated.to_sym, value: attr_being_updated_value %>
      <%= loading_submit_button 'Confirm price change', type: 'floating' %>
    <% end %>
  </div>
<% end %>