<%= turbo_frame_tag "domain_#{current_domain.uid}_domain_users" do %>
  <h3 class='tagsafe-font text-center'>Users</h3>
  <% if domain_users.any? %>
    <div class='tagsafe-table'>
      <div class='tagsafe-table-head tagsafe-table-row'>
        <div class='tagsafe-table-head' style='width: 25%;'>Name</div>
        <div class='tagsafe-table-head' style='width: 25%;'>Email</div>
        <div class='tagsafe-table-head' style='width: 25%;'>User since</div>
        <div class='tagsafe-table-head' style='width: 25%;'></div>
      </div>
      <div class='tagsafe-table-body'>
        <% domain_users.each do |du| %>
          <div class='tagsafe-table-row'>
            <div class='tagsafe-table-data' style='width: 25%'><%= du.user.full_name %></div>
            <div class='tagsafe-table-data' style='width: 25%'><%= du.user.email %></div>
            <div class='tagsafe-table-data' style='width: 25%'><%= du.user.created_at.formatted_long %></div>
            <div class='tagsafe-table-data' style='width: 25%'>
              <% if du.user_id != current_user.id %>
                <%= modal_link destroy_domain_user_modal_path(du), text: 'Remove User' %>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% else %>
    <div class='text-center'>
      <span class='empty-message'>You are the only Tagsafe user in <%= current_domain.url %>! Add teammates here.</span>
    </div>
  <% end %>
<% end %>