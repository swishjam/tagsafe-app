{"version":3,"file":"perfume.umd.min.js","sources":["../src/config.ts","../node_modules/web-vitals/dist/web-vitals.attribution.js","../src/constants.ts","../src/isSupported.ts","../src/getNetworkInformation.ts","../src/metrics.ts","../src/performanceObserver.ts","../src/isLowEnd.ts","../src/utils.ts","../src/reportPerf.ts","../src/getNavigatorInfo.ts","../src/totalBlockingTime.ts","../src/vitalsScore.ts","../src/log.ts","../src/element-timing.ts","../src/resourceTiming.ts","../src/observe.ts","../src/storageEstimate.ts","../src/perfume.ts","../src/getNavigationTiming.ts","../src/measure.ts"],"sourcesContent":["import { IPerfumeConfig } from './types';\n\nexport const config: IPerfumeConfig = {\n  // Metrics\n  isResourceTiming: false,\n  isElementTiming: false,\n  // Logging\n  maxTime: 30000,\n};\n","var e,t,n,r,i,a=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType(\"navigation\")[0]},o=function(e){if(\"loading\"===document.readyState)return\"loading\";var t=a();if(t){if(e<t.domInteractive)return\"loading\";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return\"dom-interactive\";if(0===t.domComplete||e<t.domComplete)return\"dom-content-loaded\"}return\"complete\"},u=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,\"\")},c=function(e,t){var n=\"\";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?\"#\"+r.id:u(r)+(r.className&&r.className.length?\".\"+r.className.replace(/\\s+/g,\".\"):\"\");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+\">\"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},s=-1,f=function(){return s},d=function(e){addEventListener(\"pageshow\",(function(t){t.persisted&&(s=t.timeStamp,e(t))}),!0)},l=function(){var e=a();return e&&e.activationStart||0},m=function(e,t){var n=a(),r=\"navigate\";return f()>=0?r=\"back-forward-cache\":n&&(r=document.prerendering||l()>0?\"prerender\":n.type.replace(/_/g,\"-\")),{name:e,value:void 0===t?-1:t,rating:\"good\",delta:0,entries:[],id:\"v3-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},v=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},p=function(e,t){var n=function n(r){\"pagehide\"!==r.type&&\"hidden\"!==document.visibilityState||(e(r),t&&(removeEventListener(\"visibilitychange\",n,!0),removeEventListener(\"pagehide\",n,!0)))};addEventListener(\"visibilitychange\",n,!0),addEventListener(\"pagehide\",n,!0)},h=function(e,t,n,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?\"poor\":e>t[0]?\"needs-improvement\":\"good\"}(t.value,n),e(t))}},g=-1,T=function(){return\"hidden\"!==document.visibilityState||document.prerendering?1/0:0},y=function(){p((function(e){var t=e.timeStamp;g=t}),!0)},E=function(){return g<0&&(g=T(),y(),d((function(){setTimeout((function(){g=T(),y()}),0)}))),{get firstHiddenTime(){return g}}},S=function(e,t){t=t||{};var n,r=[1800,3e3],i=E(),a=m(\"FCP\"),o=function(e){e.forEach((function(e){\"first-contentful-paint\"===e.name&&(c&&c.disconnect(),e.startTime<i.firstHiddenTime&&(a.value=Math.max(e.startTime-l(),0),a.entries.push(e),n(!0)))}))},u=window.performance&&window.performance.getEntriesByName&&window.performance.getEntriesByName(\"first-contentful-paint\")[0],c=u?null:v(\"paint\",o);(u||c)&&(n=h(e,a,r,t.reportAllChanges),u&&o([u]),d((function(i){a=m(\"FCP\"),n=h(e,a,r,t.reportAllChanges),requestAnimationFrame((function(){requestAnimationFrame((function(){a.value=performance.now()-i.timeStamp,n(!0)}))}))})))},b=!1,C=-1,w=function(e,t){!function(e,t){t=t||{};var n=[.1,.25];b||(S((function(e){C=e.value})),b=!0);var r,i=function(t){C>-1&&e(t)},a=m(\"CLS\",0),o=0,u=[],c=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=u[0],n=u[u.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,u.push(e)):(o=e.value,u=[e]),o>a.value&&(a.value=o,a.entries=u,r())}}))},s=v(\"layout-shift\",c);s&&(r=h(i,a,n,t.reportAllChanges),p((function(){c(s.takeRecords()),r(!0)})),d((function(){o=0,C=-1,a=m(\"CLS\",0),r=h(i,a,n,t.reportAllChanges)})))}((function(t){!function(e){if(e.entries.length){var t=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(t&&t.sources&&t.sources.length){var n=(r=t.sources).find((function(e){return e.node&&1===e.node.nodeType}))||r[0];if(n)return void(e.attribution={largestShiftTarget:c(n.node),largestShiftTime:t.startTime,largestShiftValue:t.value,largestShiftSource:n,largestShiftEntry:t,loadState:o(t.startTime)})}}var r;e.attribution={}}(t),e(t)}),t)},L=function(e,t){S((function(t){!function(e){if(e.entries.length){var t=a(),n=e.entries[e.entries.length-1];if(t){var r=t.activationStart||0,i=Math.max(0,t.responseStart-r);return void(e.attribution={timeToFirstByte:i,firstByteToFCP:e.value-i,loadState:o(e.entries[0].startTime),navigationEntry:t,fcpEntry:n})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:o(f())}}(t),e(t)}),t)},M={passive:!0,capture:!0},A=new Date,F=function(r,i){e||(e=i,t=r,n=new Date,I(removeEventListener),x())},x=function(){if(t>=0&&t<n-A){var i={entryType:\"first-input\",name:e.type,target:e.target,cancelable:e.cancelable,startTime:e.timeStamp,processingStart:e.timeStamp+t};r.forEach((function(e){e(i)})),r=[]}},B=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;\"pointerdown\"==e.type?function(e,t){var n=function(){F(e,t),i()},r=function(){i()},i=function(){removeEventListener(\"pointerup\",n,M),removeEventListener(\"pointercancel\",r,M)};addEventListener(\"pointerup\",n,M),addEventListener(\"pointercancel\",r,M)}(t,e):F(t,e)}},I=function(e){[\"mousedown\",\"keydown\",\"touchstart\",\"pointerdown\"].forEach((function(t){return e(t,B,M)}))},k=function(n,i){i=i||{};var a,o=[100,300],u=E(),c=m(\"FID\"),s=function(e){e.startTime<u.firstHiddenTime&&(c.value=e.processingStart-e.startTime,c.entries.push(e),a(!0))},f=function(e){e.forEach(s)},l=v(\"first-input\",f);a=h(n,c,o,i.reportAllChanges),l&&p((function(){f(l.takeRecords()),l.disconnect()}),!0),l&&d((function(){var u;c=m(\"FID\"),a=h(n,c,o,i.reportAllChanges),r=[],t=-1,e=null,I(addEventListener),u=s,r.push(u),x()}))},D=function(e,t){k((function(t){!function(e){var t=e.entries[0];e.attribution={eventTarget:c(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:o(t.startTime)}}(t),e(t)}),t)},P=0,N=1/0,q=0,R=function(e){e.forEach((function(e){e.interactionId&&(N=Math.min(N,e.interactionId),q=Math.max(q,e.interactionId),P=q?(q-N)/7+1:0)}))},H=function(){return i?P:performance.interactionCount||0},O=function(){\"interactionCount\"in performance||i||(i=v(\"event\",R,{type:\"event\",buffered:!0,durationThreshold:0}))},j=0,U=function(){return H()-j},V=[],_={},z=function(e){var t=V[V.length-1],n=_[e.interactionId];if(n||V.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};_[r.id]=r,V.push(r)}V.sort((function(e,t){return t.latency-e.latency})),V.splice(10).forEach((function(e){delete _[e.id]}))}},G=function(e,t){t=t||{};var n=[200,500];O();var r,i=m(\"INP\"),a=function(e){e.forEach((function(e){(e.interactionId&&z(e),\"first-input\"===e.entryType)&&(!V.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&z(e))}));var t,n=(t=Math.min(V.length-1,Math.floor(U()/50)),V[t]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())},o=v(\"event\",a,{durationThreshold:t.durationThreshold||40});r=h(e,i,n,t.reportAllChanges),o&&(o.observe({type:\"first-input\",buffered:!0}),p((function(){a(o.takeRecords()),i.value<0&&U()>0&&(i.value=0,i.entries=[]),r(!0)})),d((function(){V=[],j=H(),i=m(\"INP\"),r=h(e,i,n,t.reportAllChanges)})))},J=function(e,t){G((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0];e.attribution={eventTarget:c(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:o(t.startTime)}}else e.attribution={}}(t),e(t)}),t)},K={},Q=function(e,t){!function(e,t){t=t||{};var n,r=[2500,4e3],i=E(),a=m(\"LCP\"),o=function(e){var t=e[e.length-1];if(t){var r=Math.max(t.startTime-l(),0);r<i.firstHiddenTime&&(a.value=r,a.entries=[t],n())}},u=v(\"largest-contentful-paint\",o);if(u){n=h(e,a,r,t.reportAllChanges);var c=function(){K[a.id]||(o(u.takeRecords()),u.disconnect(),K[a.id]=!0,n(!0))};[\"keydown\",\"click\"].forEach((function(e){addEventListener(e,c,{once:!0,capture:!0})})),p(c,!0),d((function(i){a=m(\"LCP\"),n=h(e,a,r,t.reportAllChanges),requestAnimationFrame((function(){requestAnimationFrame((function(){a.value=performance.now()-i.timeStamp,K[a.id]=!0,n(!0)}))}))}))}}((function(t){!function(e){if(e.entries.length){var t=a();if(t){var n=t.activationStart||0,r=e.entries[e.entries.length-1],i=r.url&&performance.getEntriesByType(\"resource\").filter((function(e){return e.name===r.url}))[0],o=Math.max(0,t.responseStart-n),u=Math.max(o,i?(i.requestStart||i.startTime)-n:0),s=Math.max(u,i?i.responseEnd-n:0),f=Math.max(s,r?r.startTime-n:0),d={element:c(r.element),timeToFirstByte:o,resourceLoadDelay:u-o,resourceLoadTime:s-u,elementRenderDelay:f-s,navigationEntry:t,lcpEntry:r};return r.url&&(d.url=r.url),i&&(d.lcpResourceEntry=i),void(e.attribution=d)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}}(t),e(t)}),t)},W=function e(t){document.prerendering?addEventListener(\"prerenderingchange\",(function(){return e(t)}),!0):\"complete\"!==document.readyState?addEventListener(\"load\",(function(){return e(t)}),!0):setTimeout(t,0)},X=function(e,t){t=t||{};var n=[800,1800],r=m(\"TTFB\"),i=h(e,r,n,t.reportAllChanges);W((function(){var o=a();if(o){if(r.value=Math.max(o.responseStart-l(),0),r.value<0||r.value>performance.now())return;r.entries=[o],i(!0),d((function(){r=m(\"TTFB\",0),(i=h(e,r,n,t.reportAllChanges))(!0)}))}}))},Y=function(e,t){X((function(t){!function(e){if(e.entries.length){var t=e.entries[0],n=t.activationStart||0,r=Math.max(t.domainLookupStart-n,0),i=Math.max(t.connectStart-n,0),a=Math.max(t.requestStart-n,0);e.attribution={waitingTime:r,dnsTime:i-r,connectionTime:a-i,requestTime:e.value-a,navigationEntry:t}}else e.attribution={waitingTime:0,dnsTime:0,connectionTime:0,requestTime:0}}(t),e(t)}),t)};export{w as onCLS,L as onFCP,D as onFID,J as onINP,Q as onLCP,Y as onTTFB};\n","// Have private variable outside the class,\n// helps drastically reduce the library size\nexport const W = window;\nexport const C = W.console;\nexport const WN = W.navigator;\nexport const WP = W.performance;\nexport const getDM = () => (WN as any).deviceMemory;\nexport const getHC = () => (WN as any).hardwareConcurrency;\n","import { WP } from './constants';\n\n/**\n * True if the browser supports the Navigation Timing API,\n * User Timing API and the PerformanceObserver Interface.\n * In Safari, the User Timing API (performance.mark()) is not available,\n * so the DevTools timeline will not be annotated with marks.\n * Support: developer.mozilla.org/en-US/docs/Web/API/Performance/mark\n * Support: developer.mozilla.org/en-US/docs/Web/API/PerformanceObserver\n * Support: developer.mozilla.org/en-US/docs/Web/API/Performance/getEntriesByType\n */\nexport const isPerformanceSupported = (): boolean => WP && !!WP.getEntriesByType && !!WP.now && !!WP.mark;\n","import { WN } from './constants';\nimport { EffectiveConnectionType, IPerfumeNetworkInformation } from './types';\n\nexport let et: EffectiveConnectionType = '4g';\nexport let sd = false;\n\nexport const getNetworkInformation = (): IPerfumeNetworkInformation => {\n  if ('connection' in WN) {\n    const dataConnection = (WN as any).connection;\n    if (typeof dataConnection !== 'object') {\n      return {};\n    }\n    et = dataConnection.effectiveType;\n    sd = !!dataConnection.saveData;\n    return {\n      downlink: dataConnection.downlink,\n      effectiveType: dataConnection.effectiveType,\n      rtt: dataConnection.rtt,\n      saveData: !!dataConnection.saveData,\n    };\n  }\n  return {};\n};\n","import { IMetricMap, IPerfumeDataConsumption } from './types';\n\nexport const metrics: IMetricMap = {};\nexport const fcp = {\n  value: 0,\n};\nexport const rt: { value: IPerfumeDataConsumption } = {\n  value: {\n    beacon: 0,\n    css: 0,\n    fetch: 0,\n    img: 0,\n    other: 0,\n    script: 0,\n    total: 0,\n    xmlhttprequest: 0,\n  },\n};\nexport const tbt = {\n  value: 0,\n};\nexport const ntbt = {\n  value: 0,\n};\n\n","import { C } from './constants';\nimport { perfObservers } from './observeInstances';\nimport { IPerformanceObserverType } from './types';\n\n/**\n * PerformanceObserver subscribes to performance events as they happen\n * and respond to them asynchronously.\n */\nexport const po = (\n  eventType: IPerformanceObserverType,\n  cb: (performanceEntries: any[]) => void,\n): PerformanceObserver | null => {\n  try {\n    const perfObserver = new PerformanceObserver(entryList => {\n      cb(entryList.getEntries());\n    });\n    // Retrieve buffered events and subscribe to newer events for Paint Timing\n    perfObserver.observe({ type: eventType, buffered: true });\n    return perfObserver;\n  } catch (e) {\n    C.warn('Perfume.js:', e);\n  }\n  return null;\n};\n\nexport const poDisconnect = (observer: any) => {\n  if (perfObservers[observer]) {\n    perfObservers[observer].disconnect();\n  }\n  delete perfObservers[observer];\n}\n","import { getDM, getHC } from './constants';\nimport { EffectiveConnectionType } from './types';\n\nexport const getIsLowEndDevice = (): boolean => {\n  // If number of logical processors available to run threads <= 4\n  if (getHC() && getHC() <= 4) {\n    return true;\n  }\n  // If the approximate amount of RAM client device has <= 4\n  if (getDM() && getDM() <= 4) {\n    return true;\n  }\n  return false;\n};\n\nexport const getIsLowEndExperience = (\n  et: EffectiveConnectionType,\n  sd: boolean,\n): boolean => {\n  // If the effective type of the connection meaning\n  // one of 'slow-2g', '2g', '3g', or '4g' is !== 4g\n  switch (et) {\n    case 'slow-2g':\n      return true;\n      break;\n    case '2g':\n      return true;\n      break;\n    case '3g':\n      return true;\n      break;\n    default:\n      // Data Saver preference\n      return (getIsLowEndDevice() || sd);\n  }\n};\n","import { W } from './constants';\n\nexport const roundByFour = (num: number) => parseFloat(num.toFixed(4));\n\nexport const convertToKB = (bytes: number): number | null => {\n  if (typeof bytes !== 'number') {\n    return null;\n  }\n  return roundByFour(bytes / Math.pow(1024, 2));\n};\n\n/**\n * PushTask to requestIdleCallback\n */\nexport const pushTask = (cb: any): void => {\n  if ('requestIdleCallback' in W) {\n    (W as any).requestIdleCallback(cb, { timeout: 3000 });\n  } else {\n    cb();\n  }\n};\n","import { config } from './config';\nimport { getNavigatorInfo } from './getNavigatorInfo';\nimport { IVitalsScore } from './types';\nimport { pushTask } from './utils';\n\n/**\n * Sends the User timing measure to analyticsTracker\n */\nexport const reportPerf = (\n  measureName: string,\n  data: any,\n  rating: IVitalsScore,\n  attribution: object,\n): void => {\n  pushTask(() => {\n    if (!config.analyticsTracker) {\n      return;\n    }\n    // Send metric to custom Analytics service\n    config.analyticsTracker({\n      attribution,\n      metricName: measureName,\n      data,\n      navigatorInformation: getNavigatorInfo(),\n      rating,\n    });\n  });\n};\n","import { getDM, getHC, WN } from './constants';\nimport { et, sd } from './getNetworkInformation';\nimport { getIsLowEndDevice, getIsLowEndExperience } from './isLowEnd';\nimport { INavigatorInfo } from './types';\n\n/**\n * Information coming from window.navigator:\n * 1. Device Memory\n * 2. Hardware Concurency\n * 3. Status of the service worker:\n *    - controlled: a service worker is controlling the page\n *    - supported: the browser supports service worker\n *    - unsupported: the user's browser does not support service worker\n */\nexport const getNavigatorInfo = (): INavigatorInfo => {\n  if (WN) {\n    return {\n      deviceMemory: getDM() || 0,\n      hardwareConcurrency: getHC() || 0,\n      serviceWorkerStatus:\n        'serviceWorker' in WN\n          ? WN.serviceWorker.controller\n            ? 'controlled'\n            : 'supported'\n          : 'unsupported',\n      isLowEndDevice: getIsLowEndDevice(),\n      isLowEndExperience: getIsLowEndExperience(et, sd)\n    };\n  }\n  return {};\n};\n","import { fcp, tbt, ntbt } from './metrics';\nimport { IPerformanceEntry } from './types';\n\nexport const initTotalBlockingTime = (\n  performanceEntries: IPerformanceEntry[],\n): void => {\n  performanceEntries.forEach(entry => {\n    if (\n      entry.name !== 'self' ||\n      entry.startTime < fcp.value\n    ) {\n      return;\n    }\n    const blockingTime = entry.duration - 50;\n    if (blockingTime > 0) {\n      tbt.value += blockingTime;\n      ntbt.value += blockingTime;\n    }\n  });\n};\n","import { IPerfumeData, IVitalsScore } from './types';\n\nconst rtScore = [100, 200];\nconst tbtScore = [200, 600];\nconst ntbtScore = [200, 600];\n\nexport const webVitalsScore: Record<string, number[]> = {\n  RT: rtScore,\n  TBT: tbtScore,\n  NTBT: ntbtScore,\n};\n\nexport const getVitalsScore = (\n  measureName: string,\n  value: IPerfumeData,\n): IVitalsScore => {\n  if (!webVitalsScore[measureName]) {\n    return null;\n  }\n  if (value <= webVitalsScore[measureName][0]) {\n    return 'good';\n  }\n  return value <= webVitalsScore[measureName][1] ? 'needsImprovement' : 'poor';\n};\n","import { config } from './config';\nimport { fcp, rt, tbt } from './metrics';\nimport { perfObservers } from './observeInstances';\nimport { po } from './performanceObserver';\nimport { reportPerf } from './reportPerf';\nimport { initTotalBlockingTime } from './totalBlockingTime';\nimport { Metric } from './types';\nimport { roundByFour } from './utils';\nimport { getVitalsScore } from './vitalsScore';\n\nexport const logData = (\n  measureName: string,\n  metric: any,\n  attribution?: object,\n): void => {\n  Object.keys(metric).forEach(key => {\n    if (typeof metric[key] === 'number') {\n      metric[key] = roundByFour(metric[key]);\n    }\n  });\n  // Sends the metric to an external tracking service\n  reportPerf(measureName, metric, null, attribution || {});\n};\n\n/**\n * Dispatches the metric duration into internal logs\n * and the external time tracking service.\n */\nexport const logMetric = ({attribution, name, rating, value}: Metric): void => {\n  // TODO Add docs\n  if (name === 'FCP') {\n    fcp.value = value;\n  }\n  // TODO Add docs\n  if (['FCP', 'LCP'].includes(name)) {\n    perfObservers[4] = po('longtask', initTotalBlockingTime);\n  }\n  // TODO Add docs\n  if ('FID' === name) {\n    setTimeout(() => {\n      logMetric({\n        attribution,\n        name: 'TBT',\n        rating: getVitalsScore('TBT', tbt.value),\n        value: tbt.value,\n      });\n      logData('dataConsumption', rt.value);\n    }, 10000);\n  }\n  // TODO Add docs\n  const duration2Decimal = roundByFour(value);\n  if (duration2Decimal <= config.maxTime && duration2Decimal >= 0) {\n    // Sends the metric to an external tracking service\n    reportPerf(name, duration2Decimal, rating, attribution);\n  }\n};\n","import { logMetric } from './log';\nimport { IPerformanceEntry } from './types';\n\n\nexport const initElementTiming = (\n  performanceEntries: IPerformanceEntry[],\n) => {\n  performanceEntries.forEach(entry => {\n    if (entry.identifier) {\n      logMetric({\n        attribution: {\n          identifier: entry.identifier,\n        },\n        name: 'ET',\n        rating: null,\n        value: entry.startTime\n      });\n    }\n  });\n};\n","import { config } from './config';\nimport { logData } from './log';\nimport { rt } from './metrics';\nimport { IPerformanceEntry } from './types';\n\nexport const initResourceTiming = (performanceEntries: IPerformanceEntry[]) => {\n  performanceEntries.forEach(entry => {\n    if (config.isResourceTiming) {\n      logData('resourceTiming', entry);\n    }\n    if (entry.decodedBodySize && entry.initiatorType) {\n      const bodySize = entry.decodedBodySize / 1000;\n      rt.value[entry.initiatorType] += bodySize;\n      rt.value.total += bodySize;\n    }\n  });\n};\n","import {\n  onCLS,\n  onFCP,\n  onFID,\n  onINP,\n  onLCP,\n  onTTFB\n} from 'web-vitals/attribution';\n\nimport { config } from './config';\nimport { initElementTiming } from './element-timing';\nimport { logMetric } from './log';\nimport { po } from './performanceObserver';\nimport { initResourceTiming } from './resourceTiming';\n\nexport const initPerformanceObserver = (): void => {\n  // @ts-ignore\n  onTTFB((report) => {\n    // Calculate the request time by subtracting from TTFB\n    // everything that happened prior to the request starting.\n    // @ts-ignore\n    report.value = report.value - report.entries[0].requestStart;\n    // @ts-ignore\n    logMetric(report);\n  });\n  // @ts-ignore\n  onCLS((report) => logMetric(report));\n  // @ts-ignore\n  onFCP((report) => logMetric(report));\n  // @ts-ignore\n  onFID((report) => logMetric(report));\n  // @ts-ignore\n  onLCP((report) => logMetric(report));\n  // @ts-ignore\n  onINP((report) => logMetric(report));\n\n  if (config.isResourceTiming) {\n    po('resource', initResourceTiming);\n  }\n  if (config.isElementTiming) {\n    po('element', initElementTiming);\n  }\n};\n\nexport const disconnectPerfObserversHidden = (): void => {\n  // TODO: Use if need it\n};\n","import { logData } from './log';\nimport { convertToKB } from './utils';\n\n/**\n * The estimate() method of the StorageManager interface asks the Storage Manager\n * for how much storage the app takes up (usage),\n * and how much space is available (quota).\n */\nexport const reportStorageEstimate = (storageInfo: StorageEstimate) => {\n  const estimateUsageDetails =\n    'usageDetails' in storageInfo ? (storageInfo as any).usageDetails : {};\n  logData('storageEstimate', {\n    quota: convertToKB((storageInfo as any).quota),\n    usage: convertToKB((storageInfo as any).usage),\n    caches: convertToKB(estimateUsageDetails.caches),\n    indexedDB: convertToKB(estimateUsageDetails.indexedDB),\n    serviceWorker: convertToKB(estimateUsageDetails.serviceWorkerRegistrations),\n  });\n};\n","/**\n * Perfume.js v8.0.0 (http://zizzamia.github.io/perfume)\n * Copyright 2022 Leonardo Zizzamia (https://github.com/Zizzamia/perfume.js/graphs/contributors)\n * Licensed under MIT (https://github.com/Zizzamia/perfume.js/blob/master/LICENSE)\n * \n * @license\n */\nimport { config } from './config';\nimport { W, WN, WP } from './constants';\nimport { getNavigationTiming } from './getNavigationTiming';\nimport { getNetworkInformation } from './getNetworkInformation';\nimport { isPerformanceSupported } from './isSupported';\nimport { logData, logMetric } from './log';\nimport { performanceMeasure } from './measure';\nimport { metrics, ntbt } from './metrics';\nimport { initPerformanceObserver } from './observe';\nimport { reportStorageEstimate } from './storageEstimate';\nimport { IPerfumeOptions } from './types';\nimport { roundByFour } from './utils';\nimport { getVitalsScore } from './vitalsScore';\n\nlet ntbtTimeoutID = 0;\n\nexport default class Perfume {\n  v = '8.0.0';\n\n  constructor(options: IPerfumeOptions = {}) {\n    // Extend default config with external options\n    config.analyticsTracker = options.analyticsTracker;\n    config.isResourceTiming = !!options.resourceTiming;\n    config.isElementTiming = !!options.elementTiming;\n    config.maxTime = options.maxMeasureTime || config.maxTime;\n\n    // Exit from Perfume when basic Web Performance APIs aren't supported\n    if (!isPerformanceSupported()) {\n      return;\n    }\n    // Checks if use Performance or the EmulatedPerformance instance\n    if ('PerformanceObserver' in W) {\n      initPerformanceObserver();\n    }\n\n    const navigationTiming = getNavigationTiming();\n    // Log Navigation Timing\n    logData('navigationTiming', navigationTiming);\n    if (navigationTiming.redirectTime) {\n      logMetric({\n        attribution: {},\n        name: `RT`,\n        rating: getVitalsScore('RT', navigationTiming.redirectTime),\n        value: navigationTiming.redirectTime,\n      });\n    }\n    // Log Network Information\n    logData('networkInformation', getNetworkInformation());\n    // Let's estimate our storage capacity\n    if (WN && WN.storage && typeof WN.storage.estimate === 'function') {\n      WN.storage.estimate().then(reportStorageEstimate);\n    }\n  }\n\n  /**\n   * Start performance measurement\n   */\n  start(markName: string): void {\n    if (!isPerformanceSupported() || metrics[markName]) {\n      return;\n    }\n    metrics[markName] = true;\n    // Creates a timestamp in the browser's performance entry buffer\n    WP.mark(`mark_${markName}_start`);\n  }\n\n  /**\n   * End performance measurement\n   */\n  end(markName: string, customProperties = {}, doLogData = true): void {\n    if (!isPerformanceSupported() || !metrics[markName]) {\n      return;\n    }\n    // End Performance Mark\n    WP.mark(`mark_${markName}_end`);\n    delete metrics[markName];\n    const measure = performanceMeasure(markName);\n    if (doLogData) {\n      logData(markName, roundByFour(measure), customProperties);\n    }\n  }\n\n  /**\n   * End performance measurement after first paint from the beging of it\n   */\n  endPaint(markName: string, customProperties?: object): void {\n    setTimeout(() => {\n      this.end(markName, customProperties);\n    });\n  }\n\n  /**\n   * Removes the named mark from the browser's performance entry buffer.\n   */\n  clear(markName: string): void {\n    delete metrics[markName];\n    // Mobile Safari v13 and UC Browser v11\n    // don't support clearMarks yet\n    if (!WP.clearMarks) {\n      return;\n    }\n    WP.clearMarks(`mark_${markName}_start`);\n    WP.clearMarks(`mark_${markName}_end`);\n  }\n\n  /**\n   * NTBT = Navigation Total Blocking Time\n   *\n   * This metric measures the amount of time the application may be blocked\n   * from processing code during the 2s window after a user navigates\n   * from page A to page B.\n   *\n   * Because this library is navigation agnostic, we have this method\n   * to mark when the navigation starts.\n   *\n   * The NTBT metric is the summation of the blocking time of all long tasks\n   * in the 2s window after this method is invoked.\n   *\n   * If this method is called before the 2s window ends; it will trigger a new\n   * NTBT measurement and interrupt the previous one.\n   *\n   * Credit: Thank you Steven Lam for helping with this!\n   */\n  markNTBT(): void {\n    this.start('ntbt');\n    // Reset NTBT value\n    ntbt.value = 0;\n    clearTimeout(ntbtTimeoutID);\n    // @ts-ignore\n    ntbtTimeoutID = setTimeout(() => {\n      this.end('ntbt', {}, false);\n      logMetric({\n        attribution: {},\n        name: `NTBT`,\n        rating: getVitalsScore('NTBT', ntbt.value),\n        value: ntbt.value,\n      });\n      ntbt.value = 0;\n    }, 2000);\n  }\n}\n","import { WP } from './constants';\nimport { isPerformanceSupported } from './isSupported';\nimport { IPerfumeNavigationTiming } from './types';\n\n/**\n * Navigation Timing API provides performance metrics for HTML documents.\n * w3c.github.io/navigation-timing/\n * developers.google.com/web/fundamentals/performance/navigation-and-resource-timing\n */\nexport const getNavigationTiming = (): IPerfumeNavigationTiming => {\n  if (!isPerformanceSupported()) {\n    return {};\n  }\n  // There is an open issue to type correctly getEntriesByType\n  // github.com/microsoft/TypeScript/issues/33866\n  const n = WP.getEntriesByType('navigation')[0] as any;\n  // In Safari version 11.2 Navigation Timing isn't supported yet\n  if (!n) {\n    return {};\n  }\n  const responseStart = n.responseStart;\n  const responseEnd = n.responseEnd;\n  // We cache the navigation time for future times\n  return {\n    // fetchStart marks when the browser starts to fetch a resource\n    // responseEnd is when the last byte of the response arrives\n    fetchTime: responseEnd - n.fetchStart,\n    // Service worker time plus response time\n    workerTime: n.workerStart > 0 ? responseEnd - n.workerStart : 0,\n    // Request plus response time (network only)\n    totalTime: responseEnd - n.requestStart,\n    // Response time only (download)\n    downloadTime: responseEnd - responseStart,\n    // Time to First Byte (TTFB)\n    timeToFirstByte: responseStart - n.requestStart,\n    // HTTP header size\n    headerSize: n.transferSize - n.encodedBodySize || 0,\n    // Measuring DNS lookup time\n    dnsLookupTime: n.domainLookupEnd - n.domainLookupStart,\n    // redirects could add latency to requests\n    redirectTime: n.redirectEnd - n.redirectStart,\n  };\n};\n","import { WP } from './constants';\n\n/**\n * Get the duration of the timing metric or -1\n * if there a measurement has not been made by the User Timing API\n */\nexport const performanceMeasure = (measureName: string): number => {\n  WP.measure(\n    measureName,\n    `mark_${measureName}_start`,\n    `mark_${measureName}_end`,\n  );\n  const entry = WP.getEntriesByName(measureName).pop();\n  if (entry && entry.entryType === 'measure') {\n    return entry.duration;\n  }\n  return -1;\n};\n"],"names":["e","t","n","r","i","config","isResourceTiming","isElementTiming","maxTime","W","window","C","console","WN","navigator","WP","performance","getDM","deviceMemory","getHC","hardwareConcurrency","isPerformanceSupported","getEntriesByType","now","mark","et","sd","metrics","fcp","value","rt","beacon","css","fetch","img","other","script","total","xmlhttprequest","tbt","ntbt","po","eventType","cb","perfObserver","PerformanceObserver","entryList","getEntries","observe","type","buffered","warn","getIsLowEndDevice","getIsLowEndExperience","roundByFour","num","parseFloat","toFixed","convertToKB","bytes","Math","pow","reportPerf","measureName","data","rating","attribution","analyticsTracker","metricName","navigatorInformation","serviceWorkerStatus","serviceWorker","controller","isLowEndDevice","isLowEndExperience","requestIdleCallback","timeout","initTotalBlockingTime","performanceEntries","forEach","entry","name","startTime","blockingTime","duration","webVitalsScore","RT","TBT","NTBT","getVitalsScore","logData","metric","Object","keys","key","logMetric","_a","includes","setTimeout","duration2Decimal","a","o","document","readyState","domInteractive","domContentLoadedEventStart","domComplete","u","nodeName","nodeType","toLowerCase","toUpperCase","replace","c","id","className","length","parentNode","s","f","d","addEventListener","persisted","timeStamp","l","activationStart","m","prerendering","delta","entries","concat","Date","floor","random","navigationType","v","supportedEntryTypes","assign","p","visibilityState","removeEventListener","h","g","T","y","E","firstHiddenTime","S","disconnect","max","push","getEntriesByName","reportAllChanges","requestAnimationFrame","b","M","passive","capture","A","F","I","x","entryType","target","cancelable","processingStart","B","k","takeRecords","P","N","q","R","interactionId","min","H","interactionCount","O","durationThreshold","j","U","V","_","z","latency","sort","splice","J","some","G","processingEnd","eventTarget","eventTime","eventEntry","loadState","K","X","responseStart","initElementTiming","identifier","initResourceTiming","decodedBodySize","initiatorType","bodySize","initPerformanceObserver","domainLookupStart","connectStart","requestStart","waitingTime","dnsTime","connectionTime","requestTime","navigationEntry","onTTFB","report","hadRecentInput","reduce","sources","find","node","largestShiftTarget","largestShiftTime","largestShiftValue","largestShiftSource","largestShiftEntry","onCLS","timeToFirstByte","firstByteToFCP","fcpEntry","onFCP","onFID","once","url","filter","responseEnd","element","resourceLoadDelay","resourceLoadTime","elementRenderDelay","lcpEntry","lcpResourceEntry","onLCP","onINP","reportStorageEstimate","storageInfo","estimateUsageDetails","usageDetails","quota","usage","caches","indexedDB","serviceWorkerRegistrations","ntbtTimeoutID","Perfume","options","this","resourceTiming","elementTiming","maxMeasureTime","navigationTiming","fetchTime","fetchStart","workerTime","workerStart","totalTime","downloadTime","headerSize","transferSize","encodedBodySize","dnsLookupTime","domainLookupEnd","redirectTime","redirectEnd","redirectStart","getNavigationTiming","dataConnection","connection","effectiveType","saveData","downlink","rtt","getNetworkInformation","storage","estimate","then","prototype","start","markName","end","customProperties","doLogData","measure","pop","performanceMeasure","endPaint","_this","clear","clearMarks","markNTBT","clearTimeout"],"mappings":"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"}